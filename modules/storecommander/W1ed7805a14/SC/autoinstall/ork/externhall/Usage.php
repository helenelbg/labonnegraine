<?php
/*
StoreCommander
*/
 class ExternHallUsage { private $DB_TABLE_NAME = "\163\x74\x6f\162\145\143\x6f\x6d\137\x75\163\141\x67\x65"; private $allowedInterfaces = array("\140\141\154\154\x60", "\x60\x63\x61\164\140", "\x60\x63\x6d\163\140", "\x60\143\157\x72\x65\140", "\140\143\x75\x73\x60", "\140\x63\165\x73\x6d\x60", "\x60\155\x61\x6e\x60", "\140\x6f\x72\144\x60", "\140\163\145\162\x60", "\x60\163\165\x70\140"); private $params; public function __construct($payloadParams = null) { $this->params = $payloadParams; } public function doProcess() { goto yo46P; A3gGi: if (!$usageData) { goto zL012; } goto E3zvL; qTcV1: Db::getInstance()->execute($sql); goto fEUr9; fEUr9: PEOoE: goto v_81g; PZC2h: if (!((int) $apiResult["\x63\157\144\x65"] == 200 && (string) $apiResult["\x72\145\163\x75\x6c\x74"] == "\143\141\156\x5f\x72\145\x73\145\x74\137\x75\x73\141\x67\145")) { goto PEOoE; } goto r8nGT; wyoJT: $apiResult = makeDefaultCallToOurApi("\x65\170\x74\145\x72\x6e\150\x61\x6c\x6c\57\165\163\141\147\x65\57\x61\x64\x64", array(), array("\x61\x63\164\x69\157\x6e\137\x69\x64" => $this->params["\x61\x63\x74\x69\x6f\x6e\x5f\x69\x64"], "\165\163\x61\x67\x65" => json_encode($usageData))); goto PZC2h; lAHQJ: return true; goto ru4SG; E3zvL: unset($usageData["\151\144\x5f\x73\x74\157\162\145\x63\x6f\155\x5f\165\x73\x61\147\x65"]); goto wyoJT; r8nGT: $todo = implode("\x3d\x4e\x55\x4c\x4c\54\x20", $this->allowedInterfaces) . "\x3d\x4e\x55\x4c\x4c"; goto B3T9k; yo46P: $usageData = Db::getInstance()->getRow("\x53\105\x4c\105\x43\x54\40\52\40\12\40\40\x20\40\40\40\40\x20\40\x20\x20\40\40\40\40\40\x20\40\40\40\40\x20\x20\40\x20\x20\40\40\x20\x20\x20\x20\40\x20\40\40\x20\x20\40\x20\x20\40\x20\40\x20\40\40\40\40\40\x20\x20\x46\122\x4f\115\40\140" . _DB_PREFIX_ . $this->DB_TABLE_NAME . "\140\40\12\40\40\40\x20\40\x20\40\x20\40\x20\x20\40\x20\40\40\x20\x20\40\40\40\40\x20\40\40\x20\40\40\40\x20\x20\x20\x20\40\x20\40\40\40\40\x20\40\40\40\x20\x20\x20\x20\40\x20\40\40\x20\40\x57\x48\105\122\x45\x20\x69\x64\x5f\163\x74\x6f\x72\x65\x63\157\x6d\137\165\163\x61\147\x65\40\x3d\x20\x31\x20\xa\40\x20\40\x20\40\40\40\40\40\x20\40\x20\x20\x20\x20\40\40\40\x20\40\40\40\x20\40\40\40\x20\40\40\40\40\40\40\40\40\40\x20\40\x20\40\x20\x20\x20\40\40\40\40\x20\x20\x20\x20\x20\x41\116\104\x20\x63\157\141\x6c\x65\163\143\x65\x28" . pSQL(implode("\x2c\40", $this->allowedInterfaces)) . "\x29\40\111\123\x20\116\117\124\x20\x4e\x55\114\114"); goto A3gGi; v_81g: zL012: goto lAHQJ; B3T9k: $sql = "\x55\120\x44\x41\124\105\x20\x60" . _DB_PREFIX_ . $this->DB_TABLE_NAME . "\140\40\123\x45\124\40" . pSQL($todo) . "\40\x57\x48\105\x52\105\x20\x69\144\x5f\163\x74\x6f\x72\145\143\x6f\155\x5f\x75\x73\x61\147\145\40\75\40\61"; goto qTcV1; ru4SG: } }
